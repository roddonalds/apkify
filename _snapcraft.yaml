name: apkify
base: core22
version: '0.1'
summary: .apk builder from web assets

description: |
  a tools to building, signing, and align .apk and .aah apps from web assets.

grade: stable
confinement: classic

apps:
  
  apkify:
    command: /bin/echo
    plugs:
      - x11
      - home
      - network
      - wayland
      - desktop
      - desktop-legacy

parts:

  stage-packages:
    plugin: nil
    stage-packages:
      - gradle
      - imagemagick
      - build-essential
      - openjdk-11-jre-headless
      - openjdk-8-jdk-headless
    override-build: |
      export PATH=$PATH:$SNAPCRAFT_PART_INSTALL

  build-packages:
    plugin: nil
    after:
      - stage-packages
    build-packages:
      - curl
      - sdkmanager